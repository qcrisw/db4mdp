{% extends 'layout/layout.html'%}

{% block title%}Quality Advanced{% endblock %}
{% block content %}

    <div class="content">
<br>
<br>
<div class="basicadvance" style="margin: 6px">
  <a href="/quality-basic/0/" >Basic&nbsp&nbsp</a>
  <a href="/qualityadvanced/home" class="button">Advanced</a>
  </div>
  <br>
  <br>
  <p style="border-bottom: 9px solid black;"></p>
<br>




<table border="0">
    <td>All</td>
    <td>
<label class="switch"> 
  <input  type="checkbox" id="myCheck" value="0" onclick=mine()>
  <span class="slider round"></span>
</label>
    </td>
    <td>Any</td>
    <td>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</td>
    <td>Include</td>
    <td>
<label class="switch"> 
  <input type="checkbox" id="myCheck2" value="0" onclick=mine2()>
  <span class="slider round"></span>
</label>
    </td>
    <td>Exclude</td>
</table>
<br>

<br>
<table style="max-width: 100%; width: 100%; color: #000000;" frame="box"  >
    <tr align="center"> 
        <td style="border-bottom: 1px solid black; font-size: 30px;"><b>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspType&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</b></td>
        <td style="border-bottom: 1px solid black; font-size: 30px;"><b>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspSpan&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</b></td>
        <td style="border-bottom: 1px solid black; font-size: 30px;"><b>Output Range</b></td>
    </tr>
    <tr align="center"> 
    <td><button class="butt" value="0" id="correlation" onclick="buttonFunction(this)">Correlation</button></td>
        <td><button class="butt" value="0" id="local" onclick="buttonFunction(this)">Local</button></td>
        <td><button class="butt" value="0" id="16.png" onclick="buttonFunction(this)">$$ \mathbb{R}^+ $$</button></td>
    </tr>
    <tr align="center"> 
    <td><button class="butt" value="0" id="dissimilarity" onclick="buttonFunction(this)">Dissimilarity</button></td>
        <td><button class="butt" value="0" id="globall" onclick="buttonFunction(this)">Global</button></td>
        <td><button class="butt" value="0" id="17.png" onclick="buttonFunction(this)">$$ [-1, 1] $$</button></td>
    </tr>
    <tr align="center"> 
    <td><button class="butt" value="0" id="geometric" onclick="buttonFunction(this)">Geometric</button></td>
        <td></td>
        <td><button class="butt" value="0" id="18.png" onclick="buttonFunction(this)">$$ \mathbb{R} $$</button></td>
    </tr>
    <tr align="center"> 
    <td><button class="butt" value="0" id="homology"onclick="buttonFunction(this)">Homology</button></td>
        <td></td>
        <td><button class="butt" value="0" id="19.png" onclick="buttonFunction(this)">$$ [0.5, 1]^* $$</button></td>
    </tr>
    <tr align="center"> 
    <td><button class="butt" value="0" id="probability" onclick="buttonFunction(this)">Probability</button></td>
        <td></td>
        <td><button class="butt" value="0" id="20.png" onclick="buttonFunction(this)">$$ [0,1] $$</button></td>
    </tr>
    <tr align="center"> 
    <td><button class="butt" value="0" id="rank" onclick="buttonFunction(this)">Rank</button></td>
        <td></td>
        <td></td>
    </tr>
    <tr align="center"> 
    <td><button class="butt" value="0" id="set_difference" onclick="buttonFunction(this)">Set Difference</button></td>
       



        <td></td>
        <td></td>
    </tr>
</table>
<br>
<br>
<table style="background-color: #c59972; width: 100%" frame="box">
  <tr>
    <td>&nbsp</td>
    <td>&nbsp</td>
    <td>&nbsp</td>
  </tr>
  <tr>
    <td></td>
    <td align="center"><button class="butt" onclick="generate();setTimeout(function(){location.href=generate();},500);">Submit</button></td>

    <td></td>
  </tr>
  <tr>
    <td>&nbsp</td>
    <td>&nbsp</td>
    <td>&nbsp</td>
  </tr>
</table>
<div id="myDIV">
<br>
<br>
<table style="max-width: 100%; width: 100%; color: #000000;" frame="box">
<td style="font-size: 30px"><b><u>Results</u></b></td>
<td align="right"><button class="Exportascsv" onclick='location.href=mine3();'><b>Export as CSV<b></button>
  
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</td>
</table>

<div id="andInclude">
  <h3> Quality Measure Name and Reference(s):</h3> 
{% for q in andqueryinclude %}
<b>{{ q.measure_name}} </b>
<br>
{% for key, value in referencesdict.items %}
  {% if key in q.reference %}
   {{value}} <br>
  {% endif %}
  {% endfor %}
<br>
<br>
{% endfor %}
</div>

<div id="andExclude">
<h3> Quality Measure Name and Reference(s):</h3> 
{% for q in andqueryexclude %}
<b>{{ q.measure_name}} </b>
<br>
{% for key, value in referencesdict.items %}
  {% if key in q.reference %}
   {{value}} <br>
  {% endif %}
  {% endfor %}
<br>
<br>
{% endfor %}
</div>

<div id="orInclude">
<h3> Quality Measure Name and Reference(s):</h3> 
{% for q in orqueryinclude %}
<b>{{ q.measure_name}} </b>
<br>
{% for key, value in referencesdict.items %}
  {% if key in q.reference %}
   {{value}} <br>
  {% endif %}
  {% endfor %}
<br>
<br>
{% endfor %}
</div>

<div id="orExclude">
<h3> Quality Measure Name and Reference(s):</h3> 
{% for q in orqueryexclude %}
<b>{{ q.measure_name}} </b>
<br>
{% for key, value in referencesdict.items %}
  {% if key in q.reference %}
   {{value}} <br>
  {% endif %}
  {% endfor %}
<br>
<br>
{% endfor %}
</div>


<!-- "or inlcude: "{{data1}} "     --      results: "<br> 
{% for q in orqueryinclude %}
OR QUERY Include: {{ q.measure_name}} <br> 
{% endfor %}

<br> <br> 

"and include : "{{data2}} "     --      results: "<br> 
{% for q in andqueryinclude %}
AND QUERY Include: {{ q.measure_name}} <br> 
{% endfor %}

<br> <br> 
"or exlcude: "{{data1}} "     --      results: "<br> 
{% for q in orqueryexclude %}
OR QUERY Exclude: {{ q.measure_name}} <br> 
{% endfor %}

<br> <br> 

"and exclude : "{{data2}} "     --      results: "<br> 
{% for q in andqueryexclude %}
AND QUERY Exclude: {{ q.measure_name}} <br> 
{% endfor %} -->


    </div>
</div>
<script>
function mine3() {
if (window.location.href.indexOf("includeor") != -1){
return "/quality-advanced/orinclude";
}
if (window.location.href.indexOf("excludeor") != -1){
return "/quality-advanced/orexclude";
}
if (window.location.href.indexOf("includeand") != -1){
return "/quality-advanced/andinclude";
}
if (window.location.href.indexOf("excludeand") != -1){
return "/quality-advanced/andexclude";
}
}


function generate(el) {

string= '/qualityadvanced?'
if (document.getElementById("correlation").value ==1){
string+="correlation=Yes&"
}

if (document.getElementById("local").value ==1){
string+="local=Yes&"
}

if (document.getElementById("globall").value ==1){
string+="globall=Yes&"
}

if (document.getElementById("dissimilarity").value ==1){
string+="dissimilarity=Yes&"
}

if (document.getElementById("probability").value ==1){
string+="probability=Yes&"
}

if (document.getElementById("rank").value ==1){
string+="rank=Yes&"
}

if (document.getElementById("geometric").value ==1){
string+="geometric=Yes&"
}

if (document.getElementById("set_difference").value ==1){
string+="set_difference=Yes&"

}

if (document.getElementById("homology").value ==1){
string+="homology=Yes&"
}

if (document.getElementById("16.png").value ==1){
string+="16.png=16.png&"
}

if (document.getElementById("17.png").value ==1){
string+="17.png=17.png&"
}

if (document.getElementById("18.png").value ==1){
string+="18.png=18.png&"
}

if (document.getElementById("19.png").value ==1){
string+="19.png=19.png&"
}

if (document.getElementById("20.png").value ==1){
string+="20.png=20.png&"
}
if (document.getElementById("myCheck2").value ==0){
string  +="include";
}
if (document.getElementById("myCheck2").value ==1){
string+= "exclude";
}
if (document.getElementById("myCheck").value ==0){
string  +="and";
}
if (document.getElementById("myCheck").value ==1){
string+= "or";
}
// alert(string);
return string ;
}

// And include
if (window.location.href.indexOf("includeand") != -1){
var x= document.getElementById("andExclude");
x.style.display = "none";
var y= document.getElementById("orInclude");
y.style.display = "none";
var z= document.getElementById("orExclude");
z.style.display = "none";
}

// And exclude
if (window.location.href.indexOf("excludeand") != -1){
var x= document.getElementById("andInclude");
x.style.display = "none";
var y= document.getElementById("orInclude");
y.style.display = "none";
var z= document.getElementById("orExclude");
z.style.display = "none";
}

// Or include
if (window.location.href.indexOf("includeor") != -1){
var a= document.getElementById("orExclude");
a.style.display = "none";
var x= document.getElementById("andExclude");
x.style.display = "none";
var y= document.getElementById("andInclude");
y.style.display = "none";
}

// Or exclude
if (window.location.href.indexOf("excludeor") != -1){
var a= document.getElementById("orInclude");
a.style.display = "none";
var x= document.getElementById("andExclude");
x.style.display = "none";
var y= document.getElementById("andInclude");
y.style.display = "none";
}

function buttonFunction(el) {
  if (el.value == 0){
  el.style.backgroundColor = "#f44336";
  el.value = 1;
}
else if (el.value == 1){
    el.style.backgroundColor = "#cecece";
el.value = 0;
}
}

function mine() {
var y= document.getElementById("myCheck").value;
if (y==0){
document.getElementById("myCheck").value =1;
}
else{
document.getElementById("myCheck").value =0;
}
}


function mine2() {
var y= document.getElementById("myCheck2").value;
if (y==0){
document.getElementById("myCheck2").value =1;
}
else{
document.getElementById("myCheck2").value =0;
}
}


if (window.location.href.indexOf("home") != -1) {
var x = document.getElementById("myDIV");
x.style.display = "none";
}

window.onscroll = function() {myFunction()};

var header = document.getElementById("myHeader");
var sticky = header.offsetTop;

function myFunction() {
  if (window.pageYOffset >= sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}
</script>
  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async>
</script>
{% endblock %}